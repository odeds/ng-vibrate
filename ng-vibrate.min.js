!function(e){function t(t,n,o){var r,a,s=t.$eval(o.vbVibrate||"{}"),i=n[0],c=[],f=e.isUndefined(s.y)?2:s.y,d=e.isUndefined(s.x)?2:s.x,l=e.isUndefined(s.rotation)?0:s.rotation,u=e.isUndefined(s.speed)?10:s.speed,y=e.isUndefined(s.opacity)?1:s.opacity,m=e.isUndefined(s.trigger)?"hover":s.trigger,v=e.isUndefined(s.duration)?1e3:s.duration,p=function(){l=b(l),i.style.position="relative",i.style.webkitTransform="rotate("+l+"deg)",i.style.MozTransform="rotate("+l+"deg)",i.style.msTransform="rotate("+l+"deg)",i.style.oTransform="rotate("+l+"deg)",i.style.transform="rotate("+l+"deg)",i.style.left=Math.round(Math.random()*d)-(d+1)/2+"px",i.style.top=Math.round(Math.random()*f)-(f+1)/2+"px",i.style.opacity=y},g=function(){clearInterval(r),i.style.position="static",i.style.left="0px",i.style.top="0px",i.style.webkitTransform="rotate(0deg)",i.style.MozTransform="rotate(0deg)",i.style.msTransform="rotate(0deg)",i.style.oTransform="rotate(0deg)",i.style.transform="rotate(0deg)",i.style.opacity=1},b=function(e){return e>0?-1*Math.abs(e):Math.abs(e)},h=function(e,t){c.push({event:e,fn:t}),i.addEventListener(e,t,!1)},T=function(e,t){i.removeEventListener(e,t,!1)};switch(e.lowercase(m)){case"hover":h("mouseover",function(){r=setInterval(p,u)}),h("mouseout",function(){g()});break;case"mousedown":h("mousedown",function(){r=setInterval(p,u)}),h("mouseup",function(){g()});break;case"click":h("click",function(){a?(a=!1,g()):(a=!0,r=setInterval(p,u))});break;case"pulse":var k=function(){r=setInterval(p,u),setTimeout(function(){g(),setTimeout(function(){k()},v)},v)};k();break;case"constant":r=setInterval(p,u)}t.$on("$destroy",function(){clearInterval(r),e.forEach(c,function(e){T(e.event,e.fn)})})}var n=function(){return{restrict:"AC",scope:{},link:t}};e.module("ngVibrate",[]).directive("vbVibrate",n)}(angular);